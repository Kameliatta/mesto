(()=>{var t={588:(t,e,n)=>{function r(t){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}var o=function(t){"use strict";var e,n=Object.prototype,o=n.hasOwnProperty,i="function"==typeof Symbol?Symbol:{},c=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{s({},"")}catch(t){s=function(t,e,n){return t[e]=n}}function l(t,e,n,r){var o=e&&e.prototype instanceof v?e:v,i=Object.create(o.prototype),c=new P(r||[]);return i._invoke=function(t,e,n){var r=h;return function(o,i){if(r===y)throw new Error("Generator is already running");if(r===d){if("throw"===o)throw i;return I()}for(n.method=o,n.arg=i;;){var c=n.delegate;if(c){var a=S(c,n);if(a){if(a===m)continue;return a}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===h)throw r=d,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=y;var u=f(t,e,n);if("normal"===u.type){if(r=n.done?d:p,u.arg===m)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(r=d,n.method="throw",n.arg=u.arg)}}}(t,n,c),i}function f(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}t.wrap=l;var h="suspendedStart",p="suspendedYield",y="executing",d="completed",m={};function v(){}function _(){}function b(){}var g={};s(g,c,(function(){return this}));var w=Object.getPrototypeOf,E=w&&w(w(x([])));E&&E!==n&&o.call(E,c)&&(g=E);var k=b.prototype=v.prototype=Object.create(g);function L(t){["next","throw","return"].forEach((function(e){s(t,e,(function(t){return this._invoke(e,t)}))}))}function O(t,e){function n(i,c,a,u){var s=f(t[i],t,c);if("throw"!==s.type){var l=s.arg,h=l.value;return h&&"object"===r(h)&&o.call(h,"__await")?e.resolve(h.__await).then((function(t){n("next",t,a,u)}),(function(t){n("throw",t,a,u)})):e.resolve(h).then((function(t){l.value=t,a(l)}),(function(t){return n("throw",t,a,u)}))}u(s.arg)}var i;this._invoke=function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}}function S(t,n){var r=t.iterator[n.method];if(r===e){if(n.delegate=null,"throw"===n.method){if(t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method))return m;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return m}var o=f(r,t.iterator,n.arg);if("throw"===o.type)return n.method="throw",n.arg=o.arg,n.delegate=null,m;var i=o.arg;return i?i.done?(n[t.resultName]=i.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function j(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function P(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(j,this),this.reset(!0)}function x(t){if(t){var n=t[c];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,i=function n(){for(;++r<t.length;)if(o.call(t,r))return n.value=t[r],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}return{next:I}}function I(){return{value:e,done:!0}}return _.prototype=b,s(k,"constructor",b),s(b,"constructor",_),_.displayName=s(b,u,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===_||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,b):(t.__proto__=b,s(t,u,"GeneratorFunction")),t.prototype=Object.create(k),t},t.awrap=function(t){return{__await:t}},L(O.prototype),s(O.prototype,a,(function(){return this})),t.AsyncIterator=O,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var c=new O(l(e,n,r,o),i);return t.isGeneratorFunction(n)?c:c.next().then((function(t){return t.done?t.value:c.next()}))},L(k),s(k,u,"Generator"),s(k,c,(function(){return this})),s(k,"toString",(function(){return"[object Generator]"})),t.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},t.values=x,P.prototype={constructor:P,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(C),!t)for(var n in this)"t"===n.charAt(0)&&o.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function r(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var c=this.tryEntries[i],a=c.completion;if("root"===c.tryLoc)return r("end");if(c.tryLoc<=this.prev){var u=o.call(c,"catchLoc"),s=o.call(c,"finallyLoc");if(u&&s){if(this.prev<c.catchLoc)return r(c.catchLoc,!0);if(this.prev<c.finallyLoc)return r(c.finallyLoc)}else if(u){if(this.prev<c.catchLoc)return r(c.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<c.finallyLoc)return r(c.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&o.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var c=i?i.completion:{};return c.type=t,c.arg=e,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),C(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;C(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:x(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}("object"===r(t=n.nmd(t))?t.exports:{});try{regeneratorRuntime=o}catch(t){"object"===("undefined"==typeof globalThis?"undefined":r(globalThis))?globalThis.regeneratorRuntime=o:Function("r","regeneratorRuntime = r")(o)}}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var i=e[r]={id:r,loaded:!1,exports:{}};return t[r](i,i.exports,n),i.loaded=!0,i.exports}n.nmd=t=>(t.paths=[],t.children||(t.children=[]),t),(()=>{"use strict";function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}n(588);var e=function(){function e(t,n,r,o,i){var c=t.data;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),this._name=c.name,this._link=c.link,this.id=c._id,this._actualUserId=c.actualUserId,this._ownerId=c.owner._id,this._likes=c.likes,this._likesCount=c.likes.length,this._cardSelector=n,this._handleCardClick=r,this._handleLikeClick=o,this._confirmDelete=i}var n,r;return n=e,(r=[{key:"_getTemplate",value:function(){return document.querySelector(this._cardSelector).content.querySelector(".element").cloneNode(!0)}},{key:"generateCard",value:function(){return this._element=this._getTemplate(),this._setEventListeners(),this._displayLikes(),this._deleteButton=this._element.querySelector(".element__delete-button"),this._checkCardsOwner(),this._image=this._element.querySelector(".element__image"),this._numberOfLikes=this._element.querySelector(".element__like-button_count"),this._image.src=this._link,this._image.alt="Изображение ".concat(this._name),this._element.querySelector(".element__container-text").textContent=this._name,this._numberOfLikes.textContent=this._likesCount,this._element}},{key:"removeCard",value:function(){this._element.remove(),this._element=null}},{key:"likeCard",value:function(t){this._likes=t,this._displayLikes()}},{key:"isCardLiked",value:function(){var t=this;return this._likes.some((function(e){return e._id===t._actualUserId}))}},{key:"changeNumberOfLikes",value:function(t){this._numberOfLikes.textContent=t}},{key:"_displayLikes",value:function(){this.isCardLiked()?this._likeButton.classList.add("active"):this._likeButton.classList.remove("active")}},{key:"_checkCardsOwner",value:function(){this._ownerId===this._actualUserId&&this._deleteButton.classList.add("active_button")}},{key:"_setEventListeners",value:function(){var t=this;this._likeButton=this._element.querySelector(".element__like-button"),this._element.querySelector(".element__image").addEventListener("click",(function(){t._handleCardClick(t._name,t._link)})),this._likeButton.addEventListener("click",(function(){t._handleLikeClick(t)})),this._element.querySelector(".element__delete-button").addEventListener("click",(function(){t._confirmDelete(t)}))}}])&&t(n.prototype,r),e}();function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var o=function t(e,n){var o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r(this,"_setEventListeners",(function(){o._inputList.forEach((function(t){t.addEventListener("input",(function(){o._checkInputValidity(o._formElement,t,o._settings),o.toggleButtonState(o._submitButton,o._inputList,o._settings)}))})),o._formElement.addEventListener("submit",(function(t){t.preventDefault()}))})),r(this,"_isFormInvalid",(function(){return o._inputList.some((function(t){return!t.validity.valid}))})),r(this,"toggleButtonState",(function(){o._isFormInvalid()?(o._submitButton.classList.add(o._settings.inactiveButtonClass),o._submitButton.setAttribute("disabled",!0)):(o._submitButton.classList.remove(o._settings.inactiveButtonClass),o._submitButton.removeAttribute("disabled"))})),r(this,"_showInputError",(function(t,e){t.textContent=e.validationMessage,e.classList.add(o._settings.errorClass)})),r(this,"_hideInputError",(function(t,e){t.textContent="",e.classList.remove(o._settings.errorClass)})),r(this,"_checkInputValidity",(function(t,e){var n=!e.validity.valid,r=t.querySelector("#".concat(e.id,"-error"));n?o._showInputError(r,e):o._hideInputError(r,e)})),r(this,"clearForm",(function(){o._inputList.forEach((function(t){var e=o._formElement.querySelector("#".concat(t.id,"-error"));o._hideInputError(e,t)}))})),r(this,"enableValidation",(function(){o._setEventListeners(o._formElement,o._settings)})),this._settings=e,this._formElement=document.querySelector(n),this._inputList=Array.from(this._formElement.querySelectorAll(this._settings.inputSelector)),this._submitButton=this._formElement.querySelector(this._settings.submitButtonSelector)},i={formSelector:".popup__container",inputSelector:".popup__info",submitButtonSelector:".popup__submit",inactiveButtonClass:"popup__submit_disabled",errorClass:"popup__info-error"};function c(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var a=function(){function t(e,n){var r=e.renderer;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._renderer=r,this._container=document.querySelector(n)}var e,n;return e=t,(n=[{key:"renderItems",value:function(t){var e=this;t.forEach((function(t){e._renderer(t)}))}},{key:"addItem",value:function(t){this._container.prepend(t)}}])&&c(e.prototype,n),t}();function u(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var s=function(){function t(e){var n,r,o=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),r=function(t){"Escape"===t.key&&o.close()},(n="_handleEscClose")in this?Object.defineProperty(this,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):this[n]=r,this._popupElement=document.querySelector(e)}var e,n;return e=t,(n=[{key:"open",value:function(){this._popupElement.classList.add("popup_opened"),document.addEventListener("keydown",this._handleEscClose)}},{key:"close",value:function(){this._popupElement.classList.remove("popup_opened"),document.removeEventListener("keydown",this._handleEscClose)}},{key:"setEventListeners",value:function(){var t=this;this._popupElement.querySelector(".popup__close-button").addEventListener("click",(function(){return t.close()})),this._popupElement.addEventListener("mousedown",(function(e){e.target.classList.contains("popup_opened")&&t.close()}))}}])&&u(e.prototype,n),t}();function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function f(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function h(){return h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=p(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},h.apply(this,arguments)}function p(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=m(t)););return t}function y(t,e){return y=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},y(t,e)}function d(t,e){if(e&&("object"===l(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function m(t){return m=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},m(t)}var v=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&y(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=m(r);if(o){var n=m(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return d(this,t)});function c(t){var e;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(e=i.call(this,t))._popupMainImage=document.querySelector("#big-image"),e._popupSubtitle=document.querySelector("#image-text"),e}return e=c,(n=[{key:"open",value:function(t,e){this._popupMainImage.src=e,this._popupSubtitle.textContent=t,h(m(c.prototype),"open",this).call(this)}}])&&f(e.prototype,n),c}(s);function _(t){return _="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_(t)}function b(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function g(){return g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=w(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},g.apply(this,arguments)}function w(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=L(t)););return t}function E(t,e){return E=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},E(t,e)}function k(t,e){if(e&&("object"===_(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function L(t){return L=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},L(t)}var O=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&E(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=L(r);if(o){var n=L(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return k(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,t))._popupSubmit=e,n._formElement=n._popupElement.querySelector(".popup__container"),n._inputList=n._popupElement.querySelectorAll(".popup__info"),n._submitButton=n._formElement.querySelector(".popup__submit"),n}return e=c,(n=[{key:"_getInputValues",value:function(){var t=this;return this._formValues={},this._inputList.forEach((function(e){t._formValues[e.name]=e.value})),this._formValues}},{key:"close",value:function(){g(L(c.prototype),"close",this).call(this),this._formElement.reset()}},{key:"renderLoading",value:function(t){this._submitButton.textContent=t?"Сохранение...":"Сохранить"}},{key:"setEventListeners",value:function(){var t=this;g(L(c.prototype),"setEventListeners",this).call(this),this._formElement.addEventListener("submit",(function(){t.renderLoading(!0),t._popupSubmit(t._getInputValues())}))}}])&&b(e.prototype,n),c}(s);function S(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function j(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var C=function(){function t(e,n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._url=e.url,this._headers=e.headers,this._renderInfo=n}var e,n;return e=t,(n=[{key:"_getResponseData",value:function(t){return t.ok?t.json():Promise.reject("Ошибка: ".concat(t.status))}},{key:"getUserInfo",value:function(){var t=this;return fetch(this._url+"users/me",{method:"GET",headers:this._headers}).then((function(e){return t._getResponseData(e)}))}},{key:"getCardsInfo",value:function(){var t=this;return fetch(this._url+"cards",{method:"GET",headers:this._headers}).then((function(e){return t._getResponseData(e)})).then((function(t){return t}))}},{key:"setNewData",value:function(t,e,n){var r=this;return fetch(this._url+"".concat(n),{method:e,headers:this._headers,body:JSON.stringify(t)}).then((function(t){return r._getResponseData(t)}))}},{key:"clickLike",value:function(t,e,n){var r=this;return fetch(this._url+n+"".concat(t),{method:e,headers:this._headers}).then((function(t){return r._getResponseData(t)}))}},{key:"deleteCard",value:function(t,e,n){var r=this;return fetch(this._url+n+"".concat(t),{method:e,headers:this._headers}).then((function(t){return r._getResponseData(t)}))}}])&&j(e.prototype,n),t}(),P=document.querySelector(".profile__avatar-button"),x=document.querySelector(".profile__edit-button"),I=document.querySelector(".profile__add-button"),R=document.querySelector("#name"),T=document.querySelector("#description"),q=document.querySelector("#avatar");function B(t){return B="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B(t)}function D(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function N(){return N="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var r=U(t,e);if(r){var o=Object.getOwnPropertyDescriptor(r,e);return o.get?o.get.call(arguments.length<3?t:n):o.value}},N.apply(this,arguments)}function U(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=V(t)););return t}function F(t,e){return F=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t},F(t,e)}function A(t,e){if(e&&("object"===B(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}function V(t){return V=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)},V(t)}var G=function(t){!function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&F(t,e)}(c,t);var e,n,r,o,i=(r=c,o=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}(),function(){var t,e=V(r);if(o){var n=V(this).constructor;t=Reflect.construct(e,arguments,n)}else t=e.apply(this,arguments);return A(this,t)});function c(t,e){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,c),(n=i.call(this,t))._handleConfirmSubmit=e,n._formElement=n._popupElement.querySelector(".popup__container"),n}return e=c,(n=[{key:"setSubmitClick",value:function(t){this._handleConfirmSubmit=t}},{key:"setEventListeners",value:function(){var t=this;N(V(c.prototype),"setEventListeners",this).call(this),this._formElement.querySelector("#yes").addEventListener("click",(function(){t._handleConfirmSubmit()}))}}])&&D(e.prototype,n),c}(s);function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?M(Object(n),!0).forEach((function(e){Y(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):M(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function Y(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var z=null,J=new o(i,"#edit-container");J.enableValidation();var K=new o(i,"#add-container");K.enableValidation();var Q=new o(i,"#update-container");Q.enableValidation();var W=new v("#open-image"),X=new O("#add",(function(t){et.setNewData({name:t.name,link:t.link},"POST","cards").then((function(t){it(t),X.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){X.renderLoading(!1)}))})),Z=new O("#edit",(function(){et.setNewData({name:R.value,about:T.value},"PATCH","users/me").then((function(t){rt(t),Z.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){Z.renderLoading(!1)}))})),$=new G("#delete",at),tt=new O("#update",(function(){et.setNewData({avatar:q.value},"PATCH","users/me/avatar").then((function(t){rt(t),tt.close()})).catch((function(t){console.log("Ошибка: ".concat(t))})).finally((function(){tt.renderLoading(!1)}))})),et=new C({url:"https://mesto.nomoreparties.co/v1/cohort-30/",headers:{authorization:"f1819b78-ec7d-4290-94af-f13ebfcefce1","Content-Type":"application/json"}}),nt=new function t(e){var n=this,r=e.nameSelector,o=e.aboutSelector,i=e.avatarSelector;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),S(this,"getUserInfo",(function(){return{name:n._nameElement.textContent,description:n._aboutElement.textContent}})),S(this,"setUserInfo",(function(t){var e=t.name,r=t.description;e&&(n._nameElement.textContent=e),r&&(n._aboutElement.textContent=r)})),S(this,"setUserAvatar",(function(t){var e=t.avatar;e&&(n._avatarElement.src=e)})),this._nameElement=document.querySelector(r),this._aboutElement=document.querySelector(o),this._avatarElement=document.querySelector(i)}({nameSelector:".profile__name",aboutSelector:".profile__text",avatarSelector:".profile__avatar"});function rt(t){z=t._id,nt.setUserInfo({name:t.name,description:t.about}),nt.setUserAvatar({avatar:t.avatar})}et.getUserInfo().then((function(t){rt(t)})).catch((function(t){console.log("Ошибка: ".concat(t))}));var ot=new a({renderer:function(t){return it(t)}},".elements");function it(t){var n;ot.addItem(new e({data:H(H({},n=t),{},{actualUserId:z,likes:n.likes})},".element-container_template",ut,ct,at).generateCard())}function ct(t){t.isCardLiked()?et.clickLike(t.id,"DELETE","cards/likes/").then((function(e){t.likeCard(e.likes),t.changeNumberOfLikes(e.likes.length)})).catch((function(t){console.log("Ошибка: ".concat(t))})):et.clickLike(t.id,"PUT","cards/likes/").then((function(e){t.likeCard(e.likes),t.changeNumberOfLikes(e.likes.length)})).catch((function(t){console.log("Ошибка: ".concat(t))}))}function at(t){$.open(),$.setSubmitClick((function(){!function(t){et.deleteCard(t.id,"DELETE","cards/").then((function(){t.removeCard()})).catch((function(t){console.log("Ошибка: ".concat(t))})),$.close()}(t)}))}function ut(t,e){W.open(t,e)}et.getCardsInfo().then((function(t){t.reverse(),ot.renderItems(t)})).catch((function(t){console.log("Ошибка: ".concat(t))})),x.addEventListener("click",(function(){var t;J.clearForm(),t=nt.getUserInfo(),R.value=t.name,T.value=t.description,Z.open()})),I.addEventListener("click",(function(){K.clearForm(),K.toggleButtonState(!1),X.open()})),P.addEventListener("click",(function(){Q.clearForm(),Q.toggleButtonState(!1),tt.open()})),Z.setEventListeners(),X.setEventListeners(),W.setEventListeners(),$.setEventListeners(),tt.setEventListeners()})()})();